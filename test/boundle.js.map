{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","src/fortify-array.coffee","boundle.js","src/touch-check-conditions.coffee","src/touch-conditions.coffee","src/touch-event.coffee","src/touch.coffee"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","Array","prototype","inArray","item","aItem","len","this","compare","console","log","pushIfNotExist","push",2,"TouchCheckConditions","setCall","conditions","resetConditions","con","ref","results","checkBit","allConditionsCheck","checkStartConditions","obj","checkElement","move","checkMove","fingers","checkFingers","from","checkFrom","callback","left","avg","diff","x","direction","right","top","y","bottom","ref1","ref2","ref3","toLeft","toRight","toBottom","toTop","check","elements","elmt","isAbove","isIn","tmpElmt","element","el","eq","isEqualNode","document","body","parentNode","above","fingerCount","touches","betweene","to","equals",3,"TouchConditions","_initConditions","onStart","head","touchstart","touchmove","touchend","_getCondition","timing","_addCondition","attr","value","distance",4,"TouchEvent","bind","fn","me","apply","arguments","callBack","touch","init","documentReady","addEventListener","removeEventListener","callee","type","_lastEnd","_touchStartCound","_firstEvent","_addCurrentTarget","_addAverage","_checkHomeStretch","_touchStartTimeout","end","clearTimeout","setTimeout","_this","startFingers","start","elementFromPoint","clientX","clientY","b","pageX","pageY","_addAverageDiff","_addDirections","window","innerWidth","innerHeight",5,"Touch","trigger","touchEvent","preventDefault","newCondition","on","options","name","val","./fortify-array","./touch-check-conditions","./touch-conditions","./touch-event"],"mappings":"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","file":"boundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","Array::inArray = (item) ->\n  if @compare?\n    for aItem in @\n      return true if @compare item,aItem\n  else console.log \"ERROR: There is no Array.compare(a,b) Function.\"\n  return false\n\nArray::pushIfNotExist = (item) ->\n  if not @inArray item\n    return @push item\n  return false\n",null,"# Touch\n\nmodule.exports =\nclass TouchCheckConditions\n  constructor: (@setCall,@conditions) ->\n\n  #Reset Conditions for next check\n  # TODO: dont use checkBit on con\n  resetConditions: ->\n    for con in @conditions\n      con.checkBit=null\n\n  # get all Conditions and check\n  allConditionsCheck: (e) ->\n    for con in @conditions\n      @checkStartConditions con,e\n\n  # Check all Conditions\n  checkStartConditions: (con,e) ->\n    con.checkBit=true\n    #check element?\n    obj = con.conditions['touchstart']\n\n    if con.checkBit #Every condition got an element\n      con.checkBit=@checkElement con,e\n    if con.checkBit and obj.move?\n      con.checkBit=@checkMove con,e\n    if con.checkBit and obj.fingers?\n      con.checkBit=@checkFingers(con,e)\n    if con.checkBit and obj.from?\n      con.checkBit=@checkFrom(con,e)\n\n    if con.checkBit\n      @setCall con.callback if con.checkBit\n\n  # Check side move 'from' left...\n  # TODO: move from element side\n  checkFrom: (con,e) ->\n    from = con.conditions['touchstart'].from\n    if (from.left? and e.avg.diff.x>0 and e.direction.left<from.left) or\n       (from.right? and e.avg.diff.x<0 and e.direction.right<from.right) or\n       (from.top? and e.avg.diff.y>0 and e.direction.top<from.top) or\n       (from.bottom? and e.avg.diff.y<0 and e.direction.bottom<from.bottom)\n      return true\n    return false\n\n  # Check the move direction if enabled\n  checkMove: (con,e) ->\n    move = con.conditions['touchstart'].move\n    if (move.x? and not ((move.x*-1)<e.avg.diff.x<move.x) and ((move.x*-1)<e.avg.diff.y<move.x)) or\n       (move.y? and not ((move.y*-1)<e.avg.diff.y<move.y) and ((move.y*-1)<e.avg.diff.x<move.y)) or\n       (move.toLeft? and (move.toLeft<(e.avg.diff.x*-1))) or\n       (move.toRight? and e.avg.diff.x>move.toRight) or\n       (move.toBottom? and e.avg.diff.y>move.toBottom) or\n       (move.toTop? and (e.avg.diff.y*-1)>move.toTop)\n      return true\n    return false\n\n  # Dom Element=elmt\n  # elmt.eq == more or eq one finger on elmt\n  #\n  # Table:\n  # | elmt.eq | elmt.above | Description                               |\n  # | ------- | ---------- | ----------------------------------------- |\n  # |  true   |   true     | Touch on Element or above (on dom branch) |\n  # |  true   |   false    | Touch only on element                     |\n  # |  false  |   true     | Touch not on Element, but on above        |\n  # |  false  |   false    | Touch anywere not on and above            |\n  checkElement: (con,e) ->\n    check = false\n    elmt = con.element\n    elements = e.avg.elements\n    #check if elmt is in\n    isIn = elements.inArray elmt.el\n    if elmt.eq==isIn == true\n      return true\n    isAbove = false\n    if not isIn #check all elmts above (>) the con.elmt\n      tmpElmt = elmt.el\n      while (not tmpElmt.isEqualNode(document.body))\n        tmpElmt = tmpElmt.parentNode\n        if elements.inArray tmpElmt\n          isAbove = true\n          break;\n    if elmt.above==isAbove==true\n      return true\n    if elmt.above==isAbove==isIn==elmt.eq==false\n      return true\n    return false\n\n  # Check the fingers count\n  checkFingers: (con,e) ->\n    fingers = con.conditions['touchstart'].fingers\n    fingerCount = e.touches.length\n    # console.log fingerCount\n    if fingers.betweene?\n      if not (fingerCount>=fingers.from and fingerCount<=fingers.to)\n        return false\n    else if fingers.equals?\n      if fingerCount!=fingers.eq\n        return false\n    return true\n","# TouchConditions\n\n\nmodule.exports =\nclass TouchConditions\n  _initConditions: ->\n    @conditions= {} = #there is no nee for others then touchstart or?\n      touchstart: {}\n      touchmove: {}\n      touchend: {}\n  _getCondition: ->\n    return @conditions[@timing]\n  _addCondition: (attr,value) ->\n    @_getCondition()[attr] = value\n\n  constructor: ->\n    @_initConditions()\n    @onStart() #default\n    @fingers.head = @\n    @move.head = @\n    @from.head = @\n\n    return @\n\n  call: (@callback) ->\n    return @\n\n\n  onStart: ->\n    @timing='touchstart'\n    return @\n  # onMove: ->\n  #   @timing='touchmove'\n  #   return @\n  # onEnd: -> #no need?\n  #   @timing='touchend'\n  #   return @\n\n  element: {} =\n    eq: true\n    above: true\n    el: null\n\n  #move from\n  from: {} =\n    left: (distance) ->\n      distance ?= 50\n      @head._addCondition 'from', {} =\n        left: distance\n      return @head\n    right: (distance) ->\n      distance ?= 50\n      @head._addCondition 'from', {} =\n        right: distance\n      return @head\n    top: (distance) ->\n      distance ?= 50\n      @head._addCondition 'from', {} =\n        top: distance\n      return @head\n    bottom: (distance) ->\n      distance ?= 50\n      @head._addCondition 'from', {} =\n        bottom: distance\n      return @head\n\n  # move with distance to activate\n  move: {} =\n    x: (distance) ->\n      distance ?= 50\n      @head._addCondition 'move', {} =\n        x: distance\n      return @head\n    y: (distance) ->\n      distance ?= 50\n      @head._addCondition 'move', {} =\n        y: distance\n      return @head\n    toRight: (distance) ->\n      distance ?= 50 \n      @head._addCondition 'move', {} =\n        toRight: distance\n      return @head\n    toLeft: (distance) ->\n      distance ?= 50\n      @head._addCondition 'move', {} =\n        toLeft: distance\n      return @head\n    toTop: (distance) ->\n      distance ?= 50\n      @head._addCondition 'move', {} =\n        toTop: distance\n      return @head\n    toBottom: (distance) ->\n      distance ?= 50\n      @head._addCondition 'move', {} =\n        toBottom: distance\n      return @head\n\n  fingers: {} =\n    betweene: (from,to) ->\n      @head._addCondition 'fingers', {} =\n        from: from\n        to: to\n        betweene: true\n      return @head\n    eq: (eq) ->\n      @head._addCondition 'fingers', {} =\n        eq: eq\n        equals: true\n      return @head\n","# Touch\nmodule.exports =\nclass TouchEvent\n  constructor: (@callBack) ->\n    # $(document).ready @init\n    @documentReady @init\n\n  #for no jquery depencies!\n  documentReady: (callback) ->\n    document.addEventListener \"DOMContentLoaded\", ->\n        document.removeEventListener \"DOMContentLoaded\", arguments.callee, false\n        callback()\n    , false\n\n  #init touch events\n  init: =>\n    document.body.addEventListener 'touchstart',@touch\n    document.body.addEventListener 'touchmove',@touch\n    document.body.addEventListener 'touchend',@touch\n    document.body.addEventListener 'touchcancel',@touch\n\n  #call on every touch event\n  touch: (e) =>\n    if e.type=='touchstart' and @_lastEnd and @_touchStartCound==0\n      @_firstEvent = e\n    @_addCurrentTarget e\n    @_addAverage e\n    @_checkHomeStretch e\n\n  #Zielgerade\n  # It calls the callBack\n  _lastEnd: true\n  _touchStartTimeout: null\n  _touchStartCound: 0\n  _checkHomeStretch: (e) ->\n    if e.type=='touchend' and e.touches.length==0\n      e.end=true\n      @_lastEnd=true\n      @callBack e\n    #call it only, if he really knows how many fingers u use\n    else if e.type=='touchmove' and @_lastEnd and @_touchStartCound<10\n      # console.log @_touchStartCound\n      @_touchStartCound++\n      clearTimeout @_touchStartTimeout if @_touchStartTimeout!=null\n      @_touchStartTimeout = setTimeout =>\n        e.startFingers=e.touches.length\n        e.start=true\n        @_touchStartCound=0\n        @_lastEnd=false\n        @callBack e\n      , 15\n    else\n      @callBack e\n\n  #Add Target to touches\n  _addCurrentTarget: (e) ->\n    if e.touches.length>0\n      for touch in e.touches\n        touch.element = document.elementFromPoint(touch.clientX, touch.clientY)\n\n\n  #calculate the x and y average\n  #and the elements of touches\n  _addAverage: (e) ->\n    if e.touches.length>0\n      elements = []\n      elements.compare = (a,b) ->\n        return true if a.isEqualNode b\n        return false\n      x = 0\n      y = 0\n      for touch in e.touches\n        x+=touch.pageX\n        y+=touch.pageY\n        elements.pushIfNotExist touch.element\n      e.avg = {} =\n        x : x/e.touches.length\n        y : y/e.touches.length\n        elements : elements\n\n      @_addAverageDiff e\n      #directions depence on .avg\n      @_addDirections e\n\n\n  _addAverageDiff: (e) ->\n    e.avg.diff = {} =\n      x: e.avg.x-@_firstEvent.avg.x\n      y: e.avg.y-@_firstEvent.avg.y\n\n  #add directions to\n  _addDirections: (e) ->\n    e.direction = {} =\n      left: e.avg.x\n      top: e.avg.y\n      right: window.innerWidth - e.avg.x\n      bottom: window.innerHeight - e.avg.y\n","# Touch\nTouchEvent = require './touch-event'\nTouchConditions = require './touch-conditions'\nTouchCheckConditions = require './touch-check-conditions'\n# TouchTest = require './touch-test'\nrequire './fortify-array'\n\nmodule.exports =\nclass Touch\n  conditions: []\n  constructor: ->\n    @touchEvent = new TouchEvent @trigger\n    @check = new TouchCheckConditions @setCall, @conditions\n\n  setCall: (@call) =>\n  call: null\n  trigger: (e) =>\n    e.preventDefault()\n    if @call==null and e.start\n      @check.allConditionsCheck e\n\n    @call e if @call!=null\n\n    if e.end\n      @call = null\n      @check.resetConditions()\n\n  newCondition: ->\n    con = new TouchConditions()\n    @conditions.push con\n    return con\n  on: (element,options) ->\n    con = @newCondition()\n    if options?\n      for name, val of options\n        con.element[name] = val\n    con.element.el = element\n    return con\n\nwindow.touch = new Touch()\n"],"sourceRoot":"/source/"}